{"name":"Network centrality","tagline":"A tutorial on using Python to visualise a city network and to calculate the eigenvector centrality using a random walk.","body":"### Data Science\r\n## A Tutorial on Network Centrality and Mapping in Python and R\r\n\r\n#1 Pre-Requisites\r\nThis tutorial will rely on knowledge of\r\n1. Markov chains\r\n2. Eigenvectors (intuitive understanding and power iteration method)\r\n3. Familiarity with Google’s pageRank algorithm will be useful (see e.g. [1])\r\n4. Having read the following papers before will also help your understanding [2–4]\r\n\r\n#2 The General Idea\r\nWe will examine flows of air traffic between the major global cities (more precisely Metropolitan Statis- tical Areas1). The global air traffic network is a very interesting network to study; a nice survey can be found here [2]. In this paper [3] it was found that the flow of Twitter communications between cities correlates well with air traffic flows between those same cities. Intuitively this makes sense; if 2 cities have the same principal language then its inhabitants are more likely to follow each other on Twitter and there are more likely to be air connections between the cities to facilitate trade and business.\r\nIn this paper that came out of SCAILab [4] we used this idea to show how people spreading news of the Tag challenge made a strong effort to route the message to the tag cities compared to simply broad- casting to all of their friends at random and hoping that the message would reach the target cities. We will reproduce this work using Python to perform random walks on the network and finally produce a nice map using R.\r\n\r\n#3 The Adjacency Matrix\r\nWe will start off by reading in the adjacency matrix between the cities as stored in ADJACENCY.dat (this is a NumPy array stored as a binary object). This matrix is row-normalised so each row sums to 1. In other words if city A has 100 flights leaving from it and 50 of these go to city B, 25 go to city C and 25 go to city D, the weights will be (A,B)=0.5, (A,C)=0.25 and (A,D)=0.25; the weight between i and j is the proportion of the total flights leaving i which depart for j. Note that each node in this network is a city and not an airport, for example London has several ariports; Heathrow, Stanstead and Luton. These airports are all grouped together and any flight leaving from them are grouped under the London node.2.\r\nFirst of all let us read in the file and plot the connections as a heat map.\r\n\r\n`import pickle\r\n# This is used for quick reading/writing of Python objects as binary import numpy as np\r\nimport matplotlib.pyplot as plt\r\nadjacency=pickle.load(open('ADJACENCY.dat','r'))\r\nplt.imshow(adjacency)\r\nplt.show()`","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}